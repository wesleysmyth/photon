<div class="modal">

  <!-- Collection only modal -->
  <div class="co-modal center-text">
    <h2 class="vertical-space">Give your new collection a title</h2>
    <form name="newCollection" ng-submit="vm.addCollection(vm.collectionTitle)">
      <input type="text" ng-model="vm.collectionTitle" required>
      <input type="submit" value="Create Collection">
    </form>
    <button class="center-block vertical-space" ng-click="vm.closeModal('co-modal')">Cancel</button>
  </div>

  <!-- Add photo / create collection modal -->
  <div class="p-modal center-text">
    <h2 class="vertical-space">Add this photo to a collection</h2>
    <img ng-src="{{vm.currentCollection.photos[vm.currentPhotoIndex].src}}" class="photo-preview center-block vertical-space">
      
      <div class="vertical-space" ng-if="vm.collections.length === 1">
        <span>You have no other collections! Create a new collection to add this photo.</span>
      </div>

      <!-- Choose a collection to add your photo -->
      <div ng-if="vm.collections.length > 1">
        <form class="photo-form" ng-submit="vm.addPhoto(vm.currentPhotoId)">
          <div ng-repeat="collection in vm.collections" ng-if="collection.id !== 0">
            <input class="vertical-space" type="checkbox" ng-true-value="{{collection.id}}">
            <span>{{collection.title}}</span>
          </div>
          <input type="submit" value="Add Photo to Collection(s)">
        </form>
      </div>

      <button class="vertical-space" ng-click="vm.createCollection = true" ng-if="vm.createCollection === false">Create a new collection</button>

      <div class="vertical-space" ng-if="vm.createCollection">
        <h4 class="vertical-space">Give your new collection a title</h4>
        <form name="newCollection" ng-submit="vm.addCollection(vm.collectionTitle)">
          <input type="text" ng-model="vm.collectionTitle" value="" required>
          <input type="submit" value="Create Collection">
        </form>
      </div>

    <button class="center-block" ng-click="vm.closeModal('p-modal')">Cancel</button>
  </div>

  <!-- Delete collection modal -->
  <div class="dc-modal center-text">
    <h2 class="vertical-space">Are you sure you want to delete this collection?</h2>
    <button ui-sref="home.collection({collectionName: 'AllPhotos'})" class="vertical-space" ng-click="vm.removeCollection(vm.currentCollection.id)">Yes</button>
    <button class="vertical-space" ng-click="vm.closeModal('dc-modal')">No</button>
  </div>

</div>
